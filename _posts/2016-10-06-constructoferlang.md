---
layout:  post
title:    Erlang服务器文件架构
subtitle:   烹羊宰牛且为乐，磨刀霍霍向猪羊
author:  "半桶水"
header-img: "img/post-bg-2016-2.jpg"
tags:
 - Erlang
---

　一个Erlang实现的服务器，文件夹架构大致可分为以下五个部分：

- __DOC文件夹__
　用于存放一些文本信息，如介绍通讯协议的定义

- __EBIN文件夹__
　用于存放erl文件编译后的beam文件

- __INCLUED文件夹__
　用于存放头文件

- __SCRIPT文件夹__
　用于存放脚本文件，如编译脚本compile.sh等

- __SRC文件夹__
　用于存放服务器实现源码

　其中src文件夹中，又可以细分为以下几个文件夹:

 - data 存放策划配置等数据的文件夹
- lib    存放各功能函数实现的库文件的文件夹
- mod 存放各进程实现文件的文件夹
- pp    存放接受协议时处理文件的文件夹
- pt     存放发送协议时协议格式处理文件的文件夹 

　这样整个文件夹的架构基本旧清晰了，不过我们并不一定要按部就班的照着这个格式来，但是我们也不能随性而为，除非整个服务器都是由自己搭建自己维护。

　到这，再记录一个编译脚本compile.sh。其实里面的代码可以很简单

	erl -make 

　之后需要在compile.sh目录下，编写一个名为 __Emakefile__ 的文件，文件主要格式如下：

<pre> 
{
    [   '../src/*',
        '../src/lib/*'
    ],  //编译列表中目录下的erl文件
    [
        debug_info,
        {i, "../include”},  //头文件所在文件夹
        {outdir, "../ebin"}  //输出beam文件所在文件
    ]
}.
</pre> 

　到此文件夹框架基本就架设好了。

